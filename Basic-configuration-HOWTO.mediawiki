It's best to start with a simple config using the standard text files, if only to test that FreeRADIUS is correctly installed and works.

==Client setup==

To do an initial test from localhost with [[radtest]], there should already be a 'localhost' NAS preconfigured.

To enter the details of your NAS unit(s), edit /etc/raddb/[[clients.conf]]. There are many examples and the syntax is easy.

==User account setup==

Edit /etc/raddb/[[users]] and create an example user account. The file is commented on how to do this.

For example, add the following line of text at the top, before anything else:

 testing Cleartext-Password := "password"

==Server start==

At this point you should be able to manually fire up /usr/sbin/[[radiusd]]. You should do this with the debug turned on so you can see what happens:

      /usr/sbin/radiusd -X

The location and the name of the FreeRADIUS server executable may vary, for example it could be <tt>/usr/sbin/freeradius</tt>. But the <tt>-X</tt> parameter is essential, do not omit it.

Lots of stuff will scroll to the screen, and it should tell you it's ready to accept requests.

==Troubleshooting server setup==

The initial setup is usually sufficient, but if you get an error, '''read the debug messages''', then check the docs, check that you have followed the above steps to the letter, and try again.

If you need to edit [[configuration files]], read them carefully and edit them. Start with /etc/raddb/[[radiusd.conf]].

Sometimes people want to change default port to run on 1645, the old RADIUS port (the new one is 1812), if replacing a legacy RADIUS server. Other than that, it's possible that the [[rlm_eap]] (EAP module) initial setup will fail.

==Simple test==

Once the FreeRADIUS server is operational, you can use [[radtest]] to test an account from the command line:

      radtest username password servername:port nas-port secret

So, if your example user is 'fred' with password 'wilma', your server is called 'radius.domain.com', and you put localhost (or your localhost's IP) in clients.conf with a secret of 'mysecret', you should use:
 
      radtest fred wilma radius.domain.com 10 mysecret

If you are using the standard port you don't need to care about that. Also the NAS port attribute is irrelevant for a simple test.

You should get back something like:

      Sending Access-Request of id 226 to 127.0.0.1:1812
            User-Name = 'fred'
            User-Password = '\304\2323\326B\017\376\322?K\332\350Z;}'
            NAS-IP-Address = radius.domain.com
            NAS-Port = 10

      rad_recv : Access-Accept packet from host 127.0.0.1:1812,id=226, length=56
            Framed-IP-Address = 80.84.161.1
            Framed-Protocol = PPP
            Service-Type = Framed-User
            Framed-Compression = Van-Jacobson-TCP-IP
            Framed-IP- Netmask = 255.255.255.255

The key is to get an 'Access Accept' response.

OK, so at this point you should have text-file authentication working in FreeRADIUS. Also based on the default settings, the authentication methods now work for the testing user: PAP, CHAP, MS-CHAPv1, MS-CHAPv2, PEAP, EAP-TTLS, EAP-GTC, EAP-MD5.

The next step is to add more users, and/or to configure directories and databases.

==Troubleshooting test failures==

If you don't get an Access-Accept, go back and check everything.

'''Read the relevant documentation including comments, and read the debug messages!'''

See also: [[troubleshooting]].

==More testing==

If you have a Windows PC handy you may also wish to use NTradPing (downloadable from  MasterSoft) to send test packets instead of radtest. If you do this, or test from any other machine, remember your PC (or other machine) needs to be in your NAS list in clients.conf too!

==See also==

* [[Configuration files]]
